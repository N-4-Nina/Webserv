server
{
	listen        8010;
	
	server_name localhost webserv1;

	client_max_body_size    5000;

	index   home.html index.html;

    root  /mnt/nfs/homes/abouchau/webserv/www/;

	error_page 404 /custom_error404.html;

    autoindex off;

	location /papillon {
		index index.html;
		root /mnt/nfs/homes/abouchau/webserv/www/another/;
		autoindex on;
		cgi_extension .py;
		cgi_path /usr/bin/python;
	}

	location /upload {
		index upload.html;
		root /mnt/nfs/homes/abouchau/webserv/www/;
		upload_pass true;
		upload_path /mnt/nfs/homes/abouchau/webserv/www/upload/;
		autoindex off;
		methods get post;
		cgi_extension .py;
		cgi_path /usr/bin/python;
    }

	location /cgi {
		index hello.py;
		root /mnt/nfs/homes/abouchau/webserv/www/cgi/;
		autoindex off;
		methods get post;
		cgi_extension .py;
		cgi_path /mnt/nfs/homes/abouchau/.brew/Cellar/python@3.9/3.9.13_1/bin/python3;
	}

	location /love {
		index love.html;
		root /mnt/nfs/homes/abouchau/webserv/www/love/;
		methods get delete;
	}

	location /redir {
		return 301 /another/index.html;
	}
}

server
{
	listen		8009;
	server_name	localhost webserv2;

	client_max_body_size    5000;

	index   index.html;

    root  /mnt/nfs/homes/abouchau/webserv/www/another/;
}